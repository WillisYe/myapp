# 黑八桌球游戏

一个基于 Vue 3 + Three.js + Cannon.js 开发的 3D 黑八桌球游戏。

## 功能特点

- 🎱 **3D 渲染**: 使用 Three.js 提供真实的 3D 桌球台和球体渲染
- 🔄 **物理引擎**: 集成 Cannon.js 实现真实的物理碰撞和球体运动
- 🎯 **黑八桌球规则**: 完整实现黑八桌球的游戏规则
- 🎮 **交互控制**: 鼠标控制球杆瞄准和击球力度
- 👥 **双人对战**: 支持两名玩家轮流对战
- 🎵 **音效系统**: Web Audio API 合成的击球、碰撞、进球音效
- ✨ **视觉特效**: 击球火花、碰撞光环、进球螺旋、获胜礼花等特效
- 🎛️ **音效控制**: 可开关音效，支持音量调节
- 📱 **响应式设计**: 适配不同屏幕尺寸

## 游戏规则

### 基本规则
1. **开球**: 游戏开始时进行开球，第一个进球决定玩家的球组
2. **球组分配**:
   - 实心球组 (1-7号球)
   - 花色球组 (9-15号球)
3. **获胜条件**: 先打完自己球组的所有球，再合法击入黑8球获胜

### 犯规情况
- 白球进袋
- 击打对方球组的球
- 过早击打黑8球

### 操作说明
- **瞄准**: 移动鼠标瞄准目标方向
- **击球**: 点击鼠标击球
- **力度控制**: 使用底部滑块调整击球力度
- **重新开始**: 点击重新开始按钮
- **暂停/继续**: 点击暂停按钮或按空格键
- **音效控制**: 点击音效按钮开关声音
- **查看规则**: 按 R 键查看详细规则

## 技术架构

### 前端框架
- **Vue 3**: 采用 Composition API 构建用户界面
- **Vite**: 现代化的前端构建工具

### 3D 渲染
- **Three.js**: 3D 场景、摄像机、光照、材质渲染
- **WebGL**: 硬件加速的 3D 图形渲染

### 物理引擎
- **Cannon.js**: 物理世界模拟、碰撞检测、摩擦力计算

### 项目结构
```
src/
├── App.vue              # 主应用组件
├── main.js             # 应用入口文件
└── components/
    ├── PoolGame.js     # 桌球游戏核心逻辑
    ├── SoundManager.js # 音效管理器
    └── EffectsManager.js # 特效管理器
```

## 安装和运行

### 环境要求
- Node.js >= 16
- npm 或 yarn

### 安装依赖
```bash
npm install
```

### 启动开发服务器
```bash
npm run dev
```

访问 http://localhost:3000 开始游戏

### 构建生产版本
```bash
npm run build
```

## 核心组件说明

### PoolGame 类
游戏核心逻辑类，负责：
- 3D 场景初始化和渲染
- 物理世界设置和更新
- 桌球台和球体创建
- 游戏规则实现
- 交互控制处理

### SoundManager 类
音效管理类，负责：
- Web Audio API 音效合成
- 击球、碰撞、进球等音效播放
- 音量控制和开关管理

### EffectsManager 类
特效管理类，负责：
- 粒子系统特效
- 击球火花、碰撞光环特效
- 进球螺旋、获胜礼花特效

### 主要方法
- `setupPhysicsWorld()`: 初始化物理世界
- `createTable()`: 创建桌球台和边界
- `createBalls()`: 创建16个桌球和物理体
- `handleBallPocketed()`: 处理进球逻辑
- `updatePhysics()`: 更新物理模拟

## 游戏特色

1. **真实物理**: 球体碰撞、摩擦力、重力等物理效果
2. **3D 视觉**: 立体的桌球台、球体和光影效果
3. **规则完整**: 标准黑八桌球规则实现
4. **交互友好**: 直观的鼠标操作和UI界面

## 开发计划

- ✅ 项目初始化和环境搭建
- ✅ 3D 场景和物理引擎集成
- ✅ 桌球台和球体模型创建
- ✅ 交互控制实现
- ✅ 黑八桌球规则实现
- ✅ 音效和特效增强
- ⏳ AI 对手
- ⏳ 网络对战

## 贡献

欢迎提交 Issue 和 Pull Request 来改进游戏！

## 许可证

MIT License