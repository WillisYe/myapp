<template>
  <div class="absolute inset-0 flex items-center justify-center bg-primary z-50">
    <div class="text-center">
      <!-- Logo -->
      <div class="text-6xl mb-4 animate-bounce-slow">ğŸ±</div>

      <!-- æ ‡é¢˜ -->
      <h1 class="text-white text-2xl font-bold mb-2">é»‘å…«æ¡Œçƒ</h1>
      <p class="text-gray-400 text-sm mb-8">Kiro AI å¼€å‘</p>

      <!-- åŠ è½½è¿›åº¦ -->
      <div class="w-64 mx-auto">
        <div class="flex justify-between text-xs text-gray-400 mb-2">
          <span>åŠ è½½ä¸­...</span>
          <span>{{ Math.round(progress) }}%</span>
        </div>

        <!-- è¿›åº¦æ¡ -->
        <div class="w-full bg-gray-700 rounded-full h-2 overflow-hidden">
          <div
            class="bg-accent h-full rounded-full transition-all duration-300 ease-out"
            :style="{ width: `${progress}%` }"
          />
        </div>

        <!-- åŠ è½½çŠ¶æ€æ–‡å­— -->
        <div class="text-xs text-gray-500 mt-3">
          {{ loadingText }}
        </div>
      </div>

      <!-- æç¤ºä¿¡æ¯ -->
      <div class="mt-8 text-xs text-gray-500 max-w-xs mx-auto">
        <p class="mb-2">
          ğŸ“± ä¸“ä¸ºç§»åŠ¨ç«¯ä¼˜åŒ–çš„2Dæ¡Œçƒæ¸¸æˆ
        </p>
        <p>
          ğŸ¯ 2Dç‰©ç†å¼•æ“ â€¢ è§¦æ‘¸ä¼˜å…ˆ â€¢ ç«–å±å¸ƒå±€
        </p>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { computed } from 'vue'

interface Props {
  progress: number
}

const props = defineProps<Props>()

const isMobile = computed(() => {
  return 'ontouchstart' in window || navigator.maxTouchPoints > 0
})

const loadingText = computed(() => {
  const { progress } = props

  if (progress < 20) return 'åˆå§‹åŒ–æ¸¸æˆå¼•æ“...'
  if (progress < 40) return 'åŠ è½½éŸ³æ•ˆç³»ç»Ÿ...'
  if (progress < 60) return 'åˆ›å»ºæ¡Œçƒå°...'
  if (progress < 80) return 'ç”Ÿæˆçƒä½“...'
  if (progress < 95) return 'è®¾ç½®æ¸¸æˆè§„åˆ™...'
  return 'å‡†å¤‡å°±ç»ª...'
})
</script>